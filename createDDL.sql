CREATE TABLE POSITION (IDPOSITION BIGINT NOT NULL, LATITUTE FLOAT, LONGITUDE FLOAT, PRIMARY KEY (IDPOSITION))
CREATE TABLE TRAJET (IDTRAJET BIGINT NOT NULL, DATE DATETIME, ARRIVEE_IDPOSITION BIGINT, CONDUCTEUR_IDUSER BIGINT, DEPART_IDPOSITION BIGINT, VOITURE_IDVOITURE BIGINT, PRIMARY KEY (IDTRAJET))
CREATE TABLE USER (IDUSER BIGINT NOT NULL, CENTRESINTERET LONGBLOB, EMAIL VARCHAR(255), MDP VARCHAR(255), PREFERENCES LONGBLOB, POSITION_IDPOSITION BIGINT, PRIMARY KEY (IDUSER))
CREATE TABLE VOITURE (IDVOITURE BIGINT NOT NULL, ANNEE INTEGER, MODELE VARCHAR(255), NBPLACES INTEGER, PRIMARY KEY (IDVOITURE))
CREATE TABLE TRAJET_USER (Trajet_IDTRAJET BIGINT NOT NULL, passagers_IDUSER BIGINT NOT NULL, PRIMARY KEY (Trajet_IDTRAJET, passagers_IDUSER))
CREATE TABLE TRAJET_POSITION (Trajet_IDTRAJET BIGINT NOT NULL, points_IDPOSITION BIGINT NOT NULL, PRIMARY KEY (Trajet_IDTRAJET, points_IDPOSITION))
ALTER TABLE TRAJET ADD CONSTRAINT FK_TRAJET_VOITURE_IDVOITURE FOREIGN KEY (VOITURE_IDVOITURE) REFERENCES VOITURE (IDVOITURE)
ALTER TABLE TRAJET ADD CONSTRAINT FK_TRAJET_DEPART_IDPOSITION FOREIGN KEY (DEPART_IDPOSITION) REFERENCES POSITION (IDPOSITION)
ALTER TABLE TRAJET ADD CONSTRAINT FK_TRAJET_CONDUCTEUR_IDUSER FOREIGN KEY (CONDUCTEUR_IDUSER) REFERENCES USER (IDUSER)
ALTER TABLE TRAJET ADD CONSTRAINT FK_TRAJET_ARRIVEE_IDPOSITION FOREIGN KEY (ARRIVEE_IDPOSITION) REFERENCES POSITION (IDPOSITION)
ALTER TABLE USER ADD CONSTRAINT FK_USER_POSITION_IDPOSITION FOREIGN KEY (POSITION_IDPOSITION) REFERENCES POSITION (IDPOSITION)
ALTER TABLE TRAJET_USER ADD CONSTRAINT FK_TRAJET_USER_passagers_IDUSER FOREIGN KEY (passagers_IDUSER) REFERENCES USER (IDUSER)
ALTER TABLE TRAJET_USER ADD CONSTRAINT FK_TRAJET_USER_Trajet_IDTRAJET FOREIGN KEY (Trajet_IDTRAJET) REFERENCES TRAJET (IDTRAJET)
ALTER TABLE TRAJET_POSITION ADD CONSTRAINT FK_TRAJET_POSITION_Trajet_IDTRAJET FOREIGN KEY (Trajet_IDTRAJET) REFERENCES TRAJET (IDTRAJET)
ALTER TABLE TRAJET_POSITION ADD CONSTRAINT FK_TRAJET_POSITION_points_IDPOSITION FOREIGN KEY (points_IDPOSITION) REFERENCES POSITION (IDPOSITION)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
